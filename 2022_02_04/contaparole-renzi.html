<!DOCTYPE html>
<html>
    <head>
        <title>Corso JavaScript</title>
        <style>
          table, th, td {
            border: 1px solid black;
          }
        </style>
        <script>
            function estraiTesto() {
   /*
    *  PROVA  "JavaScript"  del  4 Febbraio 2022
    *
    *  sviluppa la funzione estraiTesto in modo che alla pressione del bottone
    *  etichettato "Conta" venga analizzato il contenuto delle textarea
    *  producendo un elenco sintetico delle parole ivi presenti
    *  affiancato dal numero di occorrenze rilevate.
    *
    *  L'elenco deve:
    *
    *    1) ignorare maiuscolo e minuscolo ( CASA, Casa, casa ==> (casa,3) )
    *    2) escludere le parole composte da un solo carattere
    *    3) escludere le parole che totalizzano una sola occorrenza
    *
    */

           
    /*1
    prendo tutti i valori dalla lista, li trasformo in lowercase
    e li metto su un array*/

    let ta=document.getElementById('esame')
    let valori=[]
    let testo=""

    console.log(ta.value)
    testo=ta.value
    console.log(testo)
    let lower=testo.toLocaleLowerCase()
    console.log(lower);
    
     valori=lower.split(" ");
     let word = valori
     console.log(word.length)

    /*2
    copio il vettore e lo pulisco
    */
    /*
    elimino le parole singole
    */

         




  
            // while (lista.childNodes.length > 0) {
            //   ultimoElemento = lista.lastChild
            //   lista.removeChild(ultimoElemento)
            // }
      var lista=document.querySelector("#lista")         
      for(i=0;i<word.length,i++;){
   
        h=lista.insertRow(i)
        h.insertCell(i).innerHTML=word[i]
     //   h.insertCell(i+1).innerHTML='occorrenze'
      }
      h = lista.insertRow(0)
      h.insertCell(0).innerHTML = word[0]
      h.insertCell(1).innerHTML='occorrenze'
            // h.insertCell(1).innerHTML = 'occorrenze'
   
            // h = lista.insertRow(0)
            // h.insertCell(0).innerHTML = 'parola'
            // h.insertCell(1).innerHTML = 'occorrenze'
            
   /*
    *  Qui le parole (ed i rispettivi numeri di occorrenze) rilevati nella
    *  analisi della textarea (svolta nella parte iniziale della funzione)
    *  vanno inserite nella tabella con id="lista"
    */
   
          }
        </script>
    </head>
    <body>
      <h1>Conta parole</h1>
      <textarea id="esame" rows="8" cols="60"></textarea>
      <button onclick="estraiTesto()">Elabora</button>
      <table id="lista"></table>
    </body>
</html>
